import os
import random


ancho,alto = 200,200
M = [[0 for i in range(ancho)] for j in range(alto)]
M[3][1] = 1
M[3][2] = 1
M[3][3] = 1
M[2][3] = 1
M[1][2] = 1

M[1][52] = 1;M[1][53] = 1;M[1][54] = 1;M[1][55] = 1;M[1][56] = 1;M[1][57] = 1;M[1][58] = 1;M[1][59] = 1;M[1][60] = 1;M[1][61] = 1;M[1][62] = 1;M[1][63] = 1;M[1][64] = 1
M[2][50] = 1;M[2][51] = 1;M[2][52] = 1;M[2][53] = 1;M[2][54] = 1;M[2][55] = 1;M[2][56] = 1;M[2][57] = 1;M[2][58] = 1;M[2][59] = 1;M[2][60] = 1;M[2][63] = 1;M[2][64] = 1;M[2][65] = 1;M[2][66] = 1
M[3][50] = 1;M[3][51] = 1;M[3][52] = 1;M[3][53] = 1;M[3][54] = 1;M[3][55] = 1;M[3][56] = 1;M[3][57] = 1;M[3][58] = 1;M[3][59] = 1;M[3][60] = 1;M[3][63] = 1;M[3][64] = 1;M[3][65] = 1;M[3][66] = 1
M[4][50] = 1;M[4][51] = 1;M[4][52] = 1;M[4][53] = 1;M[4][54] = 1;M[4][55] = 1;M[4][56] = 1;M[4][57] = 1;M[4][58] = 1;M[4][59] = 1;M[4][60] = 1;M[4][61] = 1;M[4][63] = 1;M[4][62] = 1;M[4][64] = 1;M[4][65] = 1;M[4][66] = 1
M[5][50] = 1;M[5][51] = 1;M[5][52] = 1;M[5][53] = 1;M[5][54] = 1;M[5][55] = 1;M[5][56] = 1;M[5][57] = 1;M[5][58] = 1;M[5][59] = 1;M[5][60] = 1;M[5][61] = 1;M[5][63] = 1;M[5][62] = 1;M[5][64] = 1;M[5][65] = 1;M[5][66] = 1
M[6][50] = 1;M[6][51] = 1;M[6][52] = 1;M[6][53] = 1;M[6][54] = 1;M[6][55] = 1;M[6][56] = 1;M[6][57] = 1;M[6][58] = 1;M[6][59] = 1;M[6][60] = 1;M[6][61] = 1;M[6][63] = 1;M[6][62] = 1;M[6][64] = 1;M[6][65] = 1;M[6][66] = 1
M[7][50] = 1;M[7][51] = 1;M[7][52] = 1;M[7][53] = 1;M[7][54] = 1;M[7][55] = 1;M[7][56] = 1;M[7][57] = 1;M[7][58] = 1;M[7][59] = 1;M[7][60] = 1;M[7][61] = 1;M[7][63] = 1;M[7][62] = 1;M[7][64] = 1;M[7][65] = 1;M[7][66] = 1


''''
Dibujo dinosaurio chrome

M[1][52] = 1;M[1][53] = 1;M[1][54] = 1;M[1][55] = 1;M[1][56] = 1;M[1][57] = 1;M[1][58] = 1;M[1][59] = 1;M[1][60] = 1;M[1][61] = 1;M[1][62] = 1;M[1][63] = 1;M[1][64] = 1
M[2][50] = 1;M[2][51] = 1;M[2][52] = 1;M[2][53] = 1;M[2][54] = 1;M[2][55] = 1;M[2][56] = 1;M[2][57] = 1;M[2][58] = 1;M[2][59] = 1;M[2][60] = 1;M[2][61] = 1;M[2][62] = 1;M[2][63] = 1;M[2][64] = 1;M[2][65] = 1;M[2][66] = 1




M[1][52] = 1;M[1][53] = 1;M[1][54] = 1;M[1][55] = 1;M[1][56] = 1;M[1][57] = 1;M[1][58] = 1;M[1][59] = 1;M[1][60] = 1;M[1][61] = 1;M[1][62] = 1;M[1][63] = 1;M[1][64] = 1
M[2][50] = 1;M[2][51] = 1;M[2][52] = 1;M[2][53] = 1;M[2][54] = 1;M[2][55] = 1;M[2][56] = 1;M[2][57] = 1;M[2][58] = 1;M[2][59] = 1;M[2][60] = 1;M[2][63] = 1;M[2][64] = 1;M[2][65] = 1;M[2][66] = 1
M[3][50] = 1;M[3][51] = 1;M[3][52] = 1;M[3][53] = 1;M[3][54] = 1;M[3][55] = 1;M[3][56] = 1;M[3][57] = 1;M[3][58] = 1;M[3][59] = 1;M[3][60] = 1;M[3][63] = 1;M[3][64] = 1;M[3][65] = 1;M[3][66] = 1
M[4][50] = 1;M[4][51] = 1;M[4][52] = 1;M[4][53] = 1;M[4][54] = 1;M[4][55] = 1;M[4][56] = 1;M[4][57] = 1;M[4][58] = 1;M[4][59] = 1;M[4][60] = 1;M[4][61] = 1;M[4][63] = 1;M[4][62] = 1;M[4][64] = 1;M[4][65] = 1;M[4][66] = 1
M[5][50] = 1;M[5][51] = 1;M[5][52] = 1;M[5][53] = 1;M[5][54] = 1;M[5][55] = 1;M[5][56] = 1;M[5][57] = 1;M[5][58] = 1;M[5][59] = 1;M[5][60] = 1;M[5][61] = 1;M[5][63] = 1;M[5][62] = 1;M[5][64] = 1;M[5][65] = 1;M[5][66] = 1
M[6][50] = 1;M[6][51] = 1;M[6][52] = 1;M[6][53] = 1;M[6][54] = 1;M[6][55] = 1;M[6][56] = 1;M[6][57] = 1;M[6][58] = 1;M[6][59] = 1;M[6][60] = 1;M[6][61] = 1;M[6][63] = 1;M[6][62] = 1;M[6][64] = 1;M[6][65] = 1;M[6][66] = 1
M[7][50] = 1;M[7][51] = 1;M[7][52] = 1;M[7][53] = 1;M[7][54] = 1;M[7][55] = 1;M[7][56] = 1;M[7][57] = 1;M[7][58] = 1;M[7][59] = 1;M[7][60] = 1;M[7][61] = 1;M[7][63] = 1;M[7][62] = 1;M[7][64] = 1;M[7][65] = 1;M[7][66] = 1

'''


def graphic(num):
    image = open("./dibujo_%03d.pbm"%num,"w")
    image.write("P1 "+str(ancho)+" "+str(alto))
    for i in range(alto):
        for j in range(ancho):
            image.write(" "+str(M[i][j]))
    image.close

def rules(M):
    temp = [[0 for i in range(ancho)] for j in range(alto)]
    for i in range(alto):
        for j in range(ancho):
            # print("M[",i,"][",j,"]")
            '''
            x|x|x
            x|C|x
            L|A|R            '''
            
            C= M[i][j]
            A= M[(i+1)%alto][j]
            L= M[(i+1)%alto][j-1]
            R= M[(i+1)%alto][(j+1)%ancho]

            S = 0

            if i!=alto-1:
                #temp[i][j]=M[i][j] 
                if C==1:
                    # print("M[",i,"][",j,"]")
                    temp[i][j] = 0
                    if A==0 : temp[(i+1)%alto][j] =1
                    elif A==1 : 
                        # caida = [L,R]
                        r = random.choice([L,R])
                        if r==R and R==0: temp[(i+1)%alto][(j+1)%ancho] = 1
                        if r==L and L==0: temp[(i+1)%alto][j-1] = 1
                        else :temp[i][j] = 1
            elif i==alto-1: 
                if C==1:
                    temp[i][j] = 1
    return temp

for i in range(250):
    graphic(i)
    M =rules(M)
#Para unirlos se usa conv

